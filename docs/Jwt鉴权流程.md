#### JWT（JSON Web Token）是一种用于身份验证和授权的开放标准，流程如下：

1. User通过用户名和密码来进行身份验证
2. 服务器验证用户名和密码的有效性，并生成一个JWT，JWT分为三个部分：头部（Header）、载荷（Payload）以及签名（signature）。头部包含JWT的类型和所用的签名算法；载荷是包含用户身份信息，签名是对头部和载荷进行加密生成的。
3. 服务器将生成的JWT返回给客户端
4. 客户端将JWT保存在本地，通常是浏览器的LocalStorage或Cookie中
5. 客户端在之后的每次向服务器发送请求时，将JWT附加在请求的头部，通常是在Authorization字段中
6. 服务器在收到请求时，提取JWT对其进行验证，
   - 首先，服务器检查JWT签名是否有效，确保JWT没有被篡改
   - 第二，检查JWT的有效期，确保JWT没有过期
   - 最后，根据JWT中载荷的信息进行权限验证，确保用户有权访问请求的资源
7. 若JWT验证通过，服务器处理请求并返回对应的数据，若JWT验证失败，则返回对应的错误信息。

#### Spring Security的流程：

1. 用户发请求访问一个需要身份验证的资源，Spring Security会拦截请求并将其重定向到一个登录页面或登录API。
2. 在登录页面，用户进行用户名和密码输入，提交给Spring Security提供的身份验证API。
3. Spring Security会使用用户提供的凭据与存储在数据库的用户凭据进行比对，并进行身份验证。
4. 一旦用户的身份验证成功，Spring Security会创建一个安全上下文对象，其中包含用户的身份和相关的权限信息。
5. 身份验证成功后Spring Security会将成功身份验证的用户根据配置进行对应的操作。
6. 在用户访问受保护资源之前，Spring Security会检查用户是否具有所需的权限或角色。如果用户没有足够的权限，将会返回无权限的错误信息。
7. 如果用户通过了所有的身份验证和授权，Spring Security将允许用户访问所请求的受保护资源。

#### SSO的工作原理是：

当用户第一次登录系统A时，系统A会验证用户的身份并生成一个令牌（Token），该令牌包含用户的认证信息。接下来，当用户访问其他相关系统B、C、D时，系统B、C、D都会向系统A发送令牌进行验证。如果验证通过，系统B、C、D就会认为用户已经通过认证，并继续向用户提供相应的服务，而无需用户再次提供登录凭证。

